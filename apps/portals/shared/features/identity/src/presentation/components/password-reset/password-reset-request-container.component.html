<form [formGroup]="resetRequestForm" (ngSubmit)="requestPasswordReset()">
  <div class="form-field">
    <tui-textfield
      formControlName="email"
      icon="tuiIconMailLarge">
      Email
    </tui-textfield>
    <div class="error-container">
      <ng-container *ngFor="let validation of validationMessages.email">
        <div
          class="error-message"
          *ngIf="
            resetRequestForm.get('email')?.hasError(validation.type) &&
            (resetRequestForm.get('email')?.dirty || resetRequestForm.get('email')?.touched)
          ">
          {{ validation.message }}
        </div>
      </ng-container>
    </div>
  </div>
  <button
    tuiButton
    type="submit"
    [disabled]="!resetRequestForm.valid">
    <tui-loader
      class="loader"
      [inheritColor]="true"
      [overlay]="true"
      [showLoader]="isProcessing"/>
    Request reset
  </button>
</form>


@for (entry of timeoutQueue.entries; track entry.id) {
  <tui-notification size="l">
    {{ entry.item.text }}
    <button
      (click)="timeoutQueue.dequeue(entry.id)"
      iconStart="@tui.x"
      tuiIconButton
      type="button">
        Close
    </button>
  </tui-notification>
}
