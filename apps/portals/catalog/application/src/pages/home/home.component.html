<div class="home-page">
  <div class="page-header">
    <h1 class="page-title">Application Catalog</h1>
    <p class="page-subtitle">Discover and explore web applications</p>
  </div>

  @if (isLoading()) {
    <div class="loading-container">
      <tui-loader size="xl" [overlay]="true">Loading applications...</tui-loader>
    </div>
  }

  @if (error()) {
    <div class="error-container">
      <tui-icon icon="@tui.alert-circle" class="error-icon"></tui-icon>
      <p class="error-message">{{ error() }}</p>
    </div>
  }

  @if (!isLoading() && !error() && apps().length === 0) {
    <div class="empty-state">
      <tui-icon icon="@tui.inbox" class="empty-icon"></tui-icon>
      <p>No applications found</p>
    </div>
  }

  @if (!isLoading() && !error() && apps().length > 0) {
    <div class="apps-grid">
      @for (app of apps(); track app.id) {
        <article class="app-card">
          <a [routerLink]="getAppLink(app.slug)" class="card-link">
            <div class="card-header">
              <div class="app-logo">
                <img [src]="app.logo" [alt]="app.name + ' logo'" />
              </div>
              <div class="app-badges">
                @if (app.isPwa) {
                  <span tuiBadge size="s" status="success">PWA</span>
                }
              </div>
            </div>

            <div class="card-body">
              <h2 class="app-name">{{ app.name }}</h2>
              <p class="app-description">{{ app.description }}</p>
            </div>

            <div class="card-footer">
              <div class="app-rating">
                <tui-icon icon="@tui.star" class="rating-icon"></tui-icon>
                <span class="rating-value">{{ app.rating }}</span>
                <span class="rating-reviews">({{ app.reviewNumber }} reviews)</span>
              </div>
              <div class="app-meta">
                <span class="meta-item">
                  <tui-icon icon="@tui.calendar" [style.width.rem]="1" [style.height.rem]="1"></tui-icon>
                  {{ formatDate(app.updateDate) }}
                </span>
              </div>
            </div>
          </a>
        </article>
      }
    </div>
  }
</div>
