<section class="header-section">
  <h1>asdasdas</h1>
  <a tuiLink href="#" target="_blank" rel="noopener noreferrer" class="developer-link">
    Developer name
  </a>
  <div class="app-labels">
    <tui-badge status="info" class="label">Contains ads</tui-badge>
    <tui-badge status="info" class="label">In-app purchases</tui-badge>
    <tui-badge status="neutral" class="label">Content rating</tui-badge>
  </div>
  <div class="score-container">
    Rating:
    <div class="score-stars">
      <tui-icon 
        *ngFor="let star of [1,2,3,4,5]"
        [icon]="star <= getAggregatedScore() ? '@tui.star' : '@tui.star'"
        [class.filled]="star <= getAggregatedScore()"
        class="star-icon" />
    </div>
    <span class="score-value">{{ getAggregatedScore().toFixed(1) }}/5</span>
    <span class="reviews-text">({{ getReviewsCount() }} reviews)</span>
  </div>
  <ui-cover-image
    class="cover-image"
    [image]="getCoverImage()">
  </ui-cover-image>
</section>

<section class="basic-info-section">
  <div class="category-column">
    <div>Category:</div>
    <tui-chip 
      class="app-category" 
      size="m"
      appearance="primary">
      {{ getCategory() }}
    </tui-chip>
  </div>
  <div class="tag-column">
    <div>Tags: </div>
    <tui-chip 
      *ngFor="let tag of getTags()"
      class="app-tag" 
      size="m"
      appearance="secondary">
      {{ tag }}
    </tui-chip>
  </div>
</section>

<section class="quick-access-section">
  <h2 class="section-title">
    <tui-icon icon="@tui.zap" class="title-icon"></tui-icon>
    Quick Access
  </h2>
  <div class="shortcuts-grid">
    <a 
      *ngIf="app$ | async as app"
      [routerLink]="HEALTH_PATH | routePath:{ appSlug: app.slug }:'string'"
      class="shortcut-card">
      <div class="shortcut-icon health-icon">
        <tui-icon icon="@tui.heart-pulse"></tui-icon>
      </div>
      <div class="shortcut-content">
        <h3 class="shortcut-title">Health Status</h3>
        <p class="shortcut-description">View system status and uptime</p>
      </div>
      <tui-icon icon="@tui.arrow-right" class="shortcut-arrow"></tui-icon>
    </a>

    <a 
      *ngIf="app$ | async as app"
      [routerLink]="REVIEWS_PATH | routePath:{ appSlug: app.slug }:'string'"
      class="shortcut-card">
      <div class="shortcut-icon reviews-icon">
        <tui-icon icon="@tui.star"></tui-icon>
      </div>
      <div class="shortcut-content">
        <h3 class="shortcut-title">Reviews</h3>
        <p class="shortcut-description">Read user testimonials</p>
      </div>
      <tui-icon icon="@tui.arrow-right" class="shortcut-arrow"></tui-icon>
    </a>

    <a 
      *ngIf="app$ | async as app"
      [routerLink]="TIMELINE_PATH | routePath:{ appSlug: app.slug }:'string'"
      class="shortcut-card">
      <div class="shortcut-icon timeline-icon">
        <tui-icon icon="@tui.timeline"></tui-icon>
      </div>
      <div class="shortcut-content">
        <h3 class="shortcut-title">Timeline</h3>
        <p class="shortcut-description">Recent updates and activity</p>
      </div>
      <tui-icon icon="@tui.arrow-right" class="shortcut-arrow"></tui-icon>
    </a>
  </div>
</section>
  
<!-- Overview Section -->
<section class="overview-section">
  <div class="section-content">
    <h2 class="section-title">
      <tui-icon icon="@tui.box" class="title-icon"></tui-icon>
      Application Overview
    </h2>
    <div class="overview-info">
      <div class="app-content">
        <p class="app-description">Discover this amazing application with powerful features and seamless integration.</p>
      </div>
    </div>
  </div>
</section>



<!-- Health & Reviews Preview -->
<section class="latest-reviews-section">
  <h2 class="section-title">
    <tui-icon icon="@tui.zap" class="title-icon"></tui-icon>
    Latest Reviews
  </h2>

  <div class="cards">

    <!-- Latest Review Card -->
    <div class="preview-card">
      <div class="preview-card-header">
        <h3 class="preview-card-title">
          <tui-icon icon="@tui.star"></tui-icon>
          Latest Review
        </h3>
        <a 
          *ngIf="app$ | async as app"
          [routerLink]="REVIEWS_PATH | routePath:{ appSlug: app.slug }:'string'"
          tuiLink 
          size="s">
          View All Reviews
        </a>
      </div>
      <div class="review-preview">
        <div class="review-header">
          <tui-avatar src="AI" size="m" />
          <div class="reviewer-info">
            <div class="reviewer-name">{{ getLatestReviewerName() }}</div>
            <div class="reviewer-role">{{ getLatestReviewerRole() }} · {{ getLatestReviewDate() }}</div>
          </div>
          <div class="review-rating">
            <tui-icon icon="@tui.star" class="star-filled"></tui-icon>
            <span>{{ getLatestRating().toFixed(1) }}</span>
          </div>
        </div>
        <p class="review-text">"{{ getLatestTestimonial() }}"</p>
      </div>
    </div>
    

    <!-- Latest Review Card -->
    <div class="preview-card">
      <div class="preview-card-header">
        <h3 class="preview-card-title">
          <tui-icon icon="@tui.star"></tui-icon>
          Latest Review
        </h3>
        <a 
          *ngIf="app$ | async as app"
          [routerLink]="REVIEWS_PATH | routePath:{ appSlug: app.slug }:'string'"
          tuiLink 
          size="s">
          View All Reviews
        </a>
      </div>
      <div class="review-preview">
        <div class="review-header">
          <tui-avatar src="AI" size="m" />
          <div class="reviewer-info">
            <div class="reviewer-name">{{ getLatestReviewerName() }}</div>
            <div class="reviewer-role">{{ getLatestReviewerRole() }} · {{ getLatestReviewDate() }}</div>
          </div>
          <div class="review-rating">
            <tui-icon icon="@tui.star" class="star-filled"></tui-icon>
            <span>{{ getLatestRating().toFixed(1) }}</span>
          </div>
        </div>
        <p class="review-text">"{{ getLatestTestimonial() }}"</p>
      </div>
    </div>
  </div>
</section>





<!-- Health & Reviews Preview -->
<section class="health-status-section">
  <h2 class="section-title">
    <tui-icon icon="@tui.zap" class="title-icon"></tui-icon>
    Health Status
  </h2>

  <div class="cards">
    <!-- Health Status Card -->
    <div class="preview-card">
      <div class="preview-card-header">
        <h3 class="preview-card-title">
          <tui-icon icon="@tui.heart-pulse"></tui-icon>
          System Health
        </h3>
        <a 
          *ngIf="app$ | async as app"
          [routerLink]="HEALTH_PATH | routePath:{ appSlug: app.slug }:'string'"
          tuiLink 
          size="s">
          View Details
        </a>
      </div>
      <ui-status-banner
        [status]="getHealthStatus()"
        [message]="getHealthStatusMessage()"
        [timestamp]="getCurrentTimestamp()">
      </ui-status-banner>
    </div>

    <!-- Health Status Card -->
    <div class="preview-card">
      <div class="preview-card-header">
        <h3 class="preview-card-title">
          <tui-icon icon="@tui.heart-pulse"></tui-icon>
          System Health
        </h3>
        <a 
          *ngIf="app$ | async as app"
          [routerLink]="HEALTH_PATH | routePath:{ appSlug: app.slug }:'string'"
          tuiLink 
          size="s">
          View Details
        </a>
      </div>
      <ui-status-banner
        [status]="getHealthStatus()"
        [message]="getHealthStatusMessage()"
        [timestamp]="getCurrentTimestamp()">
      </ui-status-banner>
    </div>

  </div>
</section>




<!-- Health & Reviews Preview -->
<section class="health-status-section">
  <h2 class="section-title">
    <tui-icon icon="@tui.zap" class="title-icon"></tui-icon>
    Articles
  </h2>

  <div class="cards">
    <!-- Health Status Card -->
    <div class="preview-card">
      <div class="preview-card-header">
        <h3 class="preview-card-title">
          <tui-icon icon="@tui.heart-pulse"></tui-icon>
          System Health
        </h3>
        <a 
          *ngIf="app$ | async as app"
          [routerLink]="HEALTH_PATH | routePath:{ appSlug: app.slug }:'string'"
          tuiLink 
          size="s">
          View Details
        </a>
      </div>
      <ui-status-banner
        [status]="getHealthStatus()"
        [message]="getHealthStatusMessage()"
        [timestamp]="getCurrentTimestamp()">
      </ui-status-banner>
    </div>

    <!-- Health Status Card -->
    <div class="preview-card">
      <div class="preview-card-header">
        <h3 class="preview-card-title">
          <tui-icon icon="@tui.heart-pulse"></tui-icon>
          System Health
        </h3>
        <a 
          *ngIf="app$ | async as app"
          [routerLink]="HEALTH_PATH | routePath:{ appSlug: app.slug }:'string'"
          tuiLink 
          size="s">
          View Details
        </a>
      </div>
      <ui-status-banner
        [status]="getHealthStatus()"
        [message]="getHealthStatusMessage()"
        [timestamp]="getCurrentTimestamp()">
      </ui-status-banner>
    </div>

  </div>
</section>

