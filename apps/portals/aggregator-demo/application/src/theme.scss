// Import design system variables
@use 'ui/design-system/src/styles' as *;


// Light theme gradients using design system variables
body.light {
  --chat-fade-gradient: linear-gradient(to bottom, 
    #{$color-bg-muted} 0%, 
    rgba(249, 250, 251, 0.8) 50%, 
    rgba(249, 250, 251, 0) 100%);
  
  --body-background: radial-gradient(ellipse 600px 400px at top, #{$color-blue-50}, #{$color-blue-50});
  --feed-background: radial-gradient(ellipse at top, #{$color-blue-50} 0%, #{$color-purple-50} 50%, #{$color-white} 100%);
  --skeleton-background: #{$color-bg-muted};
  --skeleton-shimmer-color: rgb(138, 149, 174);


  --sidebar-gradient: linear-gradient(135deg, #{$color-bg-muted} 0%, #{$color-border} 100%);
  --header-gradient: linear-gradient(90deg, #{$color-white} 0%, #{$color-bg-muted} 100%);
  --primary-gradient: linear-gradient(45deg, #{$color-primary-600} 0%, #{$color-purple-600} 100%);
  
  --overlay-gradient: linear-gradient(180deg, #{$rgba-white-90} 0%, rgba(255, 255, 255, 0) 100%);
  --card-gradient: linear-gradient(145deg, #{$color-white} 0%, #{$color-bg-muted} 100%);
  --card-gradient-secondary: linear-gradient(180deg, #{$color-sky-25}, transparent);
  
  --accent-gradient: linear-gradient(45deg, #{$color-accent-500} 0%, #{$color-accent-600} 100%);
  --indigo-gradient: linear-gradient(135deg, #{$color-indigo-400} 0%, #{$color-purple-600} 100%);

  --indigo-gradient2: linear-gradient(0deg, #{$color-white} 20%, #ece8fc 100%);
  

  --tui-background-container-inactive:  rgba(230, 230, 230, 0.759);

  // Action-soft appearance
  --tui-text-action-soft: #{$color-text-weaker};
  --tui-text-action-soft-hover: #{$color-text-weaker};
  --tui-text-action-soft-active: #{$color-primary-700};
  --tui-background-action-soft: rgba(255, 255, 255, 0.7);
  --tui-background-action-soft-hover: rgba(255, 255, 255, 0.85);
  --tui-background-action-soft-active: rgba(255, 255, 255, 0.95);
  --tui-border-action-soft: rgba(255, 255, 255, 0.3);
  --tui-border-action-soft-focus: #{$color-primary-600};
}

[tuiTheme='light'] {
  --tui-background-elevation-1: #{$color-bg};
  --alt-text-color: #{$color-text-weaker};

  --tui-text-secondary-inverse: #{$color-text-strong};
  --tui-text-primary-inverse: #{$color-blue-50};
  
  // Link colors
  --tui-link: #{$color-text};
  --tui-link-hover: #{$color-text-strong};
  --tui-text-action: #{$color-text};
  --tui-text-action-hover: #{$color-text-strong};
  
  // Button/Appearance colors
  --tui-primary: #{$color-primary-600};
  --tui-primary-hover: #{$color-primary-700};
  --tui-primary-active: #{$color-primary-700};
  --tui-primary-text: #{$color-white};
  
  --tui-secondary: #{$color-bg-subtle};
  --tui-secondary-hover: #{$color-border};
  --tui-secondary-active: #{$color-border-strong};
  --tui-secondary-text: #{$color-text-strong};
  
  --tui-accent: #{$color-accent-500};
  --tui-accent-primary: #{$color-purple-50};
  --tui-accent-secondary: #8fbbf0;
  --tui-accent-hover: #{$color-accent-600};
  --tui-accent-text: #{$color-white};
  
  // Status colors for appearances
  --tui-positive: #{$color-accent-500};
  --tui-positive-hover: #{$color-accent-600};
  --tui-negative: #ef4444;
  --tui-negative-hover: #dc2626;
  --tui-warning: #f59e0b;
  --tui-warning-hover: #d97706;
  --tui-info: #{$color-blue-600};
  --tui-info-hover: #0056b3;
  --tui-neutral: #{$color-bg-subtle};
  --tui-neutral-hover: #{$color-border};
  
  //--t-shadow: 
}

// Dark theme gradients using design system variables
body.dark {
  --chat-fade-gradient: linear-gradient(to bottom, 
    #{$color-surface} 0%, 
    rgba(31, 41, 55, 0.8) 50%, 
    rgba(31, 41, 55, 0) 100%);

  --body-background: radial-gradient(ellipse 600px 400px at top, #{$color-surface}, #{$color-surface});

  --elevated-background: radial-gradient(ellipse 600px 400px at top, #{$color-surface-soft}, #{$color-surface-soft});
  --elevated-background-border: #{$color-surface-subtle};

  --feed-background: radial-gradient(ellipse at top, #a800ff 0%, #4b49b6 50%, #6d169d);
  --main-menu-item-background: linear-gradient(90deg, #a800ff 0%, #4b49b6 50%, #6d169d);

  --skeleton-background: #{$color-surface-subtle};
  --skeleton-background-content: #334458;;
  --skeleton-background-elevated: #{$color-surface-soft};
  --skeleton-shimmer-color: rgb(121, 128, 141);


  
  
  --sidebar-gradient: linear-gradient(135deg, #{$color-gray-700} 0%, #{$color-gray-600} 100%);
  --header-gradient: linear-gradient(90deg, #{$color-bg-inverse} 0%, #{$color-surface} 100%);
  --primary-gradient: linear-gradient(45deg, #{$color-primary-600} 0%, #{$color-purple-600} 100%);
  --overlay-gradient: linear-gradient(180deg, rgba(17, 24, 39, 0.9) 0%, rgba(17, 24, 39, 0) 100%);
  --card-gradient: linear-gradient(145deg, #{$color-surface} 0%, #{$color-gray-700} 100%);
  --card-gradient-secondary: linear-gradient(180deg, #{$color-sky-25}, transparent);
  --accent-gradient: linear-gradient(45deg, #{$color-accent-500} 0%, #{$color-accent-600} 100%);
  --indigo-gradient: linear-gradient(135deg, #{$color-indigo-400} 0%, #{$color-purple-600} 100%);
  --indigo-gradient2: linear-gradient(135deg, #{$color-indigo-400} 0%, #{$color-purple-600} 100%);

  --feed-radial-gradient: radial-gradient(ellipse at top, #{$color-gray-800} 0%, #{$color-surface} 50%, #{$color-bg-inverse} 100%);

  --feed-radial-gradient2: linear-gradient(0deg, #{$color-blue-50} 0%, #{$color-purple-50} 50%, #{$color-white} 100%);
  
  
  // Action-soft appearance
  --tui-text-action-soft: #{$color-text-light};
  --tui-text-action-soft-hover: #{$color-white};
  --tui-text-action-soft-active: #{$color-indigo-400};
  --tui-background-action-soft: rgba(55, 65, 81, 0.7);
  --tui-background-action-soft-hover: rgba(55, 65, 81, 0.85);
  --tui-background-action-soft-active: rgba(55, 65, 81, 0.95);
  --tui-border-action-soft: rgba(255, 255, 255, 0.1);
  --tui-border-action-soft-focus: #{$color-primary-600};

  // Action-flat appearance
  --action-soft-flat-text: #a2aac7;
}

[tuiTheme='dark'] {
  --tui-background-elevation-1: #{$color-surface};
  --alt-text-color: #{$color-text-weaker};
  
  // Link colors
  --tui-link: #{$color-text-muted};
  --tui-link-hover: #{$color-text-light};
  --tui-text-action: #{$color-text-muted};
  --tui-text-action-hover: #{$color-text-light};
  
  // Button/Appearance colors
  --tui-primary: #{$color-primary-600};
  --tui-primary-hover: #{$color-primary-700};
  --tui-primary-active: #{$color-primary-700};
  --tui-primary-text: #{$color-white};
  
  --tui-secondary: #{$color-gray-700};
  --tui-secondary-hover: #{$color-gray-600};
  --tui-secondary-active: #{$color-gray-600};
  --tui-secondary-text: #{$color-text-light};
  
  --tui-accent: #{$color-accent-500};
  --tui-accent-hover: #{$color-accent-600};
  --tui-accent-text: #{$color-white};
  
  // Status colors for appearances
  --tui-positive: #{$color-accent-500};
  --tui-positive-hover: #{$color-accent-600};
  --tui-negative: #ef4444;
  --tui-negative-hover: #dc2626;
  --tui-warning: #f59e0b;
  --tui-warning-hover: #d97706;
  --tui-info: #{$color-blue-600};
  --tui-info-hover: #0056b3;
  --tui-neutral: #{$color-gray-700};
  --tui-neutral-hover: #{$color-gray-600};
  --status-success: #10b981;
  --status-warning: #f59e0b;
  --status-error: #ef4444;
  --status-info: #{$color-blue-600};
  //--t-shadow
}











//TODO: move this to shared extension

// Custom action-soft appearance
[tuiAppearance][data-appearance='action-soft'] {
  color: var(--tui-text-action-soft);
  background: var(--tui-background-action-soft);
  backdrop-filter: blur(10px);
  border-radius: $radius-md; // 12px
  @include transition((transform, opacity), $duration-200, $ease-in-out);
  //border: 1px solid var(--tui-border-action-soft);
  --tui-border-focus: var(--tui-border-action-soft-focus);
  cursor: pointer;

  &:hover {
    transform: scale(1.05);
    color: var(--tui-text-action-soft-hover);
    background: var(--tui-background-action-soft-hover);
  }

  &:active {
    color: var(--tui-text-action-soft-active);
    background: var(--tui-background-action-soft-active);
  }
}

[tuiAppearance][data-appearance='link-soft'] {
  color: var(--tui-text-action-soft);
  --tui-border-focus: var(--tui-border-action-soft-focus);

  &:hover {
    color: var(--tui-text-action-soft-hover);
    background: var(--tui-background-action-soft-hover);
  }

  &:active {
    color: var(--tui-text-action-soft-active);
    background: var(--tui-background-action-soft-active);
  }
}


[tuiAppearance][data-appearance='action-soft-flat'] {
  color: var(--action-soft-flat-text);
  cursor: pointer;

  &:hover {
    color: var(--tui-text-action-soft-hover);
  }

  &:active {
    color: var(--tui-text-action-soft-active);
  }
}


[tuiAppearance][data-appearance='primary-soft'] {
  color: var(--tui-text-primary-inverse);
  background: var(--tui-accent-secondary);
  backdrop-filter: blur(10px);
  --tui-border-focus: var(--tui-primary);

  &:hover {
    color: var(--tui-primary-hover);
    background: var(--tui-secondary-hover);
  }

  &:active {
    color: var(--tui-primary-active);
    background: var(--tui-secondary-active);
  }
}


[tuiAppearance][data-appearance='premium-soft'] {
  color: var(--tui-primary-text);
  background: var(--primary-gradient);
  backdrop-filter: blur(10px);
  --tui-border-focus: var(--tui-accent);

  &:hover {
    color: var(--tui-primary-text);
    background: var(--indigo-gradient);
  }

  &:active {
    color: var(--tui-primary-text);
    background: var(--accent-gradient);
  }
}

[tuiAppearance][data-appearance='section-primary'] {
  color: var(--tui-text-secondary-inverse);
  background: var(--tui-accent-primary);
}


[tuiAppearance][data-appearance='navigation-primary'] {
  padding: $space-4 $space-6;
  width: $size-content-xxs;
  text-decoration: none;
  color: var(--tui-text-primary);
  transition: transform 0.1s;
  transform: translate(0px);
  border-radius: $radius-md;
  cursor: pointer;
  
  & > * {
    transition: transform 0.1s;
    transform: translate(0px);
  }

  &:hover {
    transform: translate(10px);
    background: var(--main-menu-item-background);
    & > * {
      transform: translate(5px);
    }
  }
  
  &.active {
    background: var(--main-menu-item-background);
    color: var(--tui-text-on-primary);
    font-weight: $font-weight-bold;
  }

  &.skeleton {
    width: $size-content-xxs;
    height: $size-content-xxs;
    border-radius: $radius-md;
    background: var(--tui-background-elevation-1);
  }
}


[tuiAppearance][data-appearance='navigation-primary-skeleton'] {
  padding: $space-4 $space-6;
  width: $size-content-xxs;
  border-radius: $radius-md;
  
  &.active {
    background: var(--main-menu-item-background);
    // animation: tuiSkeleton ease-in-out calc(var(--tui-duration) * 4) infinite alternate;
  }
}

// ============================================================================
// Card Appearances
// ============================================================================

[tuiAppearance][data-appearance='card-elevated'] {
  background: var(--elevated-background);
  border: 1px solid var(--elevated-background-border, #{$color-border});
  border-radius: $radius-md;
  box-shadow: $shadow-sm;
  @include transition((transform, box-shadow, border-color), $duration-200, $ease-in-out);

  &:hover {
    transform: translateY(-4px);
    box-shadow: $shadow-lg;
    border-color: var(--tui-primary);
  }
}

[tuiAppearance][data-appearance='card-author'] {
  background: var(--tui-background-elevation-1);
  border: 1px solid var(--tui-base-03, #{$color-border});
  border-radius: $radius-md;
  box-shadow: $shadow-sm;
  @include transition((transform, box-shadow, border-color), $duration-200, $ease-in-out);

  &:hover {
    transform: translateY(-2px);
    box-shadow: $shadow-md;
    border-color: var(--tui-accent);
  }
}

[tuiAppearance][data-appearance='card-author-featured'] {
  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
  border: 1px solid #f59e0b;
  border-radius: $radius-md;
  box-shadow: $shadow-sm;
  @include transition((transform, box-shadow, border-color), $duration-200, $ease-in-out);

  &:hover {
    transform: translateY(-2px);
    border-color: #d97706;
    box-shadow: 0 4px 20px rgba(245, 158, 11, 0.2);
  }
}

// ============================================================================
// Tag Appearances
// ============================================================================

[tuiAppearance][data-appearance='tag-gradient'] {
  display: inline-block;
  padding: $space-0_5 $space-2;
  font-size: $font-size-xs;
  font-weight: $font-weight-medium;
  color: var(--tui-primary-hover, #{$color-primary-700});
  background: linear-gradient(135deg, #{$color-blue-50} 0%, #{$color-purple-50} 100%);
  border-radius: $radius-full;
  @include transition((background, transform), $duration-200, $ease-in-out);

  &:hover {
    background: linear-gradient(135deg, #{$color-purple-50} 0%, #{$color-blue-50} 100%);
    transform: scale(1.05);
  }
}

// ============================================================================
// Badge Appearances
// ============================================================================

[tuiAppearance][data-appearance='badge-gold'] {
  display: inline-block;
  padding: $space-0_5 $space-2_5;
  font-size: $font-size-xs;
  font-weight: $font-weight-bold;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-radius: $radius-full;
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  color: $color-white;
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
}

[tuiAppearance][data-appearance='badge-silver'] {
  display: inline-block;
  padding: $space-0_5 $space-2_5;
  font-size: $font-size-xs;
  font-weight: $font-weight-bold;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-radius: $radius-full;
  background: linear-gradient(135deg, #e5e7eb 0%, #9ca3af 100%);
  color: $color-gray-700;
}

[tuiAppearance][data-appearance='badge-bronze'] {
  display: inline-block;
  padding: $space-0_5 $space-2_5;
  font-size: $font-size-xs;
  font-weight: $font-weight-bold;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-radius: $radius-full;
  background: linear-gradient(135deg, #fcd5b5 0%, #d97706 100%);
  color: $color-white;
}

// ============================================================================
// Accent Bar Appearances
// ============================================================================

[tuiAppearance][data-appearance='accent-bar-indigo'] {
  width: 4px;
  height: 1.5em;
  background: var(--indigo-gradient, #{$gradient-blue-lilac-45});
  border-radius: $radius-full;
}

[tuiAppearance][data-appearance='accent-bar-warm'] {
  width: 4px;
  height: 1.5em;
  background: linear-gradient(180deg, #f59e0b 0%, #ef4444 100%);
  border-radius: $radius-full;
}

[tuiAppearance][data-appearance='accent-strip-indigo'] {
  width: 100%;
  height: 4px;
  background: var(--indigo-gradient, #{$gradient-blue-lilac-45});
  border-radius: $radius-md $radius-md 0 0;
}

// ============================================================================
// Rank Badge Appearance
// ============================================================================

[tuiAppearance][data-appearance='rank-badge'] {
  display: flex;
  align-items: center;
  justify-content: center;
  width: $space-8;
  height: $space-8;
  font-size: $font-size-sm;
  font-weight: $font-weight-bold;
  color: var(--tui-text-secondary);
  background: var(--tui-secondary);
  border-radius: $radius-full;
}

[tuiAppearance][data-appearance='rank-badge-gold'] {
  display: flex;
  align-items: center;
  justify-content: center;
  width: $space-8;
  height: $space-8;
  font-size: $font-size-sm;
  font-weight: $font-weight-bold;
  background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
  color: $color-white;
  border-radius: $radius-full;
}

// ============================================================================
// Crown Animation
// ============================================================================

@keyframes crown-pulse {
  0%, 100% {
    transform: scale(1) rotate(0deg);
  }
  50% {
    transform: scale(1.1) rotate(5deg);
  }
}

.crown-animated {
  animation: crown-pulse 2s ease-in-out infinite;
}

