<form [formGroup]="registrationForm" (ngSubmit)="submitForm()">

  <div class="form-field">
    <tui-input
      tuiHintContent="Type 5 letters or more"
      [tuiTextfieldCleaner]="true"
      formControlName="nickname"
      tuiTextfieldIconLeft="@tui.user"
      [tuiTextfieldCustomContent]="registrationForm.get('nickname')?.valid ? success : ''">
      Nickname
    </tui-input>
    <input-validation 
      class="error-container" 
      [control]="registrationForm.get('nickname')"
      [messages]="validationMessages.nickname">
    </input-validation>
  </div>

  <div class="form-field">
    <tui-input
      formControlName="email"
      [tuiTextfieldCleaner]="true"
      tuiTextfieldIconLeft="@tui.mail"
      [tuiTextfieldCustomContent]="registrationForm.get('email')?.valid ? success : ''">
      Email
    </tui-input>
    <input-validation
      class="error-container" 
      [control]="registrationForm.get('email')"
      [messages]="validationMessages.email">
    </input-validation>
  </div>

  <div class="form-field">
    <tui-input
      tuiHintContent="Type 5 letters or more"
      formControlName="password"
      type="password"
      tuiTextfieldIconLeft="@tui.lock">
      Password
      <tui-icon tuiPassword />
    </tui-input>
    <input-validation 
      class="error-container" 
      [control]="registrationForm.get('password')"
      [messages]="validationMessages.password">
    </input-validation>
  </div>

  <div class="form-field">
    <tui-input
      formControlName="passwordConfirmation"
      type="password"
      tuiTextfieldIconLeft="@tui.lock">
      Password confirmation
    </tui-input>
    <input-validation 
      class="error-container" 
      [control]="registrationForm.get('passwordConfirmation')"
      [messages]="validationMessages.passwordConfirmation">
    </input-validation>
    <input-validation 
      class="error-container" 
      [control]="registrationForm"
      [messages]="validationMessages.passwordConfirmation">
    </input-validation>
  </div>

  <ng-content select="button[type=submit]"></ng-content>
</form>


<ng-template #success>
  <tui-icon
    icon="@tui.check"
    class="success tui-space_left-3"
  />
</ng-template>